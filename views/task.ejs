
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/public/task.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  </head>
  <body>
          <div class="task-interface" >
            <div class="navigation-booking-filter" >
            </div>
            <form id ="taskForm" action="/save/task" method="post">

                <div class="input-name" >
                    <input type = "text" name = "title" class="textplace" placeholder="일정을 입력하세요">
                    <div class="line-31">
                    </div>
                    </div>
                
                <div class="input-place" >
                    <input type = "text" name = "place" class="text-place" placeholder="장소를 입력하세요">
                    <div class="line-33" >
                    </div>
                    </div>
                </div>
                <input type="hidden" name="userid" value="<%= user %>">

                        <div class="time-duration" >
                            <div class="group-30" >
                                <button type="button" class="duration-button"  data-duration="30">30M</button>
                            </div>
                            <div class="group-60" >
                                <button type="button" class="duration-button" data-duration="60">1H
                                </button>
                            </div>
                            <div class="group-90" >
                                <button type="button" class="duration-button" data-duration="90">1H30M
                                </button>
                            </div>
                            <div class="group-120" >
                                <button type="button" class="duration-button" data-duration="120">2H
                                </button>
                            </div>
                            <div class="group-150" >
                                <button type="button" class="duration-button" data-duration="150">2H30M
                                </button>
                            </div>
                            <div class="group-180" >
                                <button type="button" class="duration-button" data-duration="180">3H
                                </button>
                            </div>
                            <div class="group-210" >
                                <button type="button" class="duration-button" data-duration="210">3H30M
                                </button>
                            </div>
                            <div class="group-240" >
                                <button type="button" class="duration-button" data-duration="240">4H
                                </button>
                            </div>
                            <div class="group-270" >
                                <button type="button" class="duration-button" data-duration="270">4H30M
                                </button>
                            </div>
                            <div class="group-extra" >
                                <button type="button" class="duration-button2" >그 외
                                </button>
                            </div>
                            <div class="div2" >
                    소요시간 </div>
                    </div>
                    <div class="make-task" >
                        <button type = "submit" class="rectangle-1802" >일정 생성 </div>
                    </div>

            </form>
        </div>
    </body>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
        <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
        <script>
            $(document).ready(function () {
  let selectedDuration = null;

  // 버튼 클릭 처리
  $('.duration-button').on('click', function () {
    // 선택된 기간 설정
    selectedDuration = $(this).data('duration');

    // 선택된 버튼에 시각적 표시를 추가 (필요시)
    $('.duration-button').removeClass('selected');
    $(this).addClass('selected');

    // 모든 버튼의 배경을 초기 상태로 변경
    $('.duration-button').css('background', '#fff27b');

    // 선택된 버튼의 배경을 linear-gradient로 변경
    $(this).css('background', 'linear-gradient(180deg, rgba(239, 224, 89, 1.00) 0%, rgba(228, 205, 0, 1.00) 100%)');

    console.log('선택된 기간:', selectedDuration);
  });

  // 폼 제출 처리
  $('.rectangle-1802').submit(function (event) {
    // 기본 폼 제출 방지
    event.preventDefault();
    console.log("버튼 누름")

    // 작업 및 장소 값을 가져옴
    const title = $('input[name="title"]').val();
    const place = $('input[name="place"]').val();
    const userid = $('input[name="userid"]').val();

    // 선택된 기간이 있는지 확인
    if (selectedDuration !== null) {
      // 선택된 기간을 폼 데이터에 추가
      $('<input>').attr({
        type: 'hidden',
        name: 'duration',
        value: selectedDuration,
      }).appendTo('#taskForm');
    }

    // 서버로 폼 제출
    this.submit();
    console.log('데이터 입력 성공(ejs-javascript)');
  });
});
    </script>
</html>

