

<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>plandelivery: signup</title>
    <link rel="stylesheet" type="text/css" href="/public/signup.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
  </head>
  <body>
      <!-- For more features use the AutoHTML plugin window in figma ... --> 
<div class="_0" >
      <svg class="div" width="554" height="934" viewBox="0 0 554 934" fill="none" xmlns="http://www.w3.org/2000/svg">
              <g filter="url(#filter0_d_195_1482)">
                      <path fill-rule="evenodd" clip-rule="evenodd" d="M59.0933 0H494.907C527.543 0 554 28.0178 554 62.5796V934H0V62.5796C5.63558e-06 28.0178 26.457 0 59.0933 0V0Z" fill="white"/>
              </g>
              <defs>
                      <filter id="filter0_d_195_1482" x="-10" y="-10" width="574" height="954" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                              <feFlood flood-opacity="0" result="BackgroundImageFix"/>
                              <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
                              <feOffset/>
                              <feGaussianBlur stdDeviation="5"/>
                              <feComposite in2="hardAlpha" operator="out"/>
                              <feColorMatrix type="matrix" values="0 0 0 0 0.924837 0 0 0 0 0.868494 0 0 0 0 0.598435 0 0 0 0.62 0"/>
                              <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_195_1482"/>
                              <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_195_1482" result="shape"/>
                      </filter>
              </defs>
      </svg>
      <div class="alert-id" > </div>
      <div class="div2" >
        <form action="/signup" method="post" >
                <input type="password" class="rectangle-42" placeholder="비밀번호" name="userpw">
                <div class="fluent-eye-20-filled2">
                    <svg class="group2" width="26" height="17" viewBox="0 0 26 17" fill="none" xmlns="http://www.w3.org/2000/svg">
                    </svg>
                </div>
                <input type="password" class="rectangle-4" placeholder="비밀번호확인" name="passwordConfirm">
                <input type="text" class="rectangle-43" placeholder="닉네임" name="username">
                <input type="text" class="rectangle-44" placeholder="아이디" name="userid" id="usernameInput">
                <button type="submit" class="rectangle-173">회원가입</button>
                <!-- Assuming you have this script in your signup.ejs template -->
    <script>
    document.getElementById('usernameInput').addEventListener('blur', function() {
        var username = this.value;
    
        var xhr = new XMLHttpRequest();
        xhr.open('GET', '/checkUsernameDuplicate?username=' + username, true);
        xhr.onload = function () {
            if (xhr.status == 200) {
                var response = JSON.parse(xhr.responseText);
    
                var alertElements = document.getElementsByClassName('alert-id');
    
                if (response.duplicate) {
                    // Assuming there is only one element with the class 'alert-id'
                    alertElements[0].innerHTML = '이미 사용 중인 아이디입니다.';
                } else {
                    // Assuming there is only one element with the class 'alert-id'
                    alertElements[0].innerHTML = '사용 가능한 아이디입니다.';
                }
            }
        };
        xhr.send();
    });
    </script>
        </form>
        
        <div class="match-message"></div>
      </div>

      <div class="div9" >
플랜 딜리버리의 회원이 되어<br/>똑똑한 시간 관리를 경험해 보세요. </div>
</div>

<script>
        document.addEventListener('DOMContentLoaded', function () {
            const passwordInput = document.querySelector('.rectangle-42');
            const passwordConfirmInput = document.querySelector('.rectangle-4');
            const matchMessage = document.querySelector('.match-message');
    
            // 비밀번호 확인 input에 입력이 발생할 때마다 확인
            passwordConfirmInput.addEventListener('input', function () {
                const password = passwordInput.value;
                const passwordConfirm = passwordConfirmInput.value;
    
                if (password === passwordConfirm) {
                    matchMessage.textContent = '비밀번호가 일치합니다.';
                    matchMessage.style.color = 'green'; // 일치할 때의 스타일
                    console.log('비밀번호가 일치합니다.');
                } else {
                    matchMessage.textContent = '비밀번호가 일치하지 않습니다.';
                    matchMessage.style.color = 'red'; // 불일치할 때의 스타일
                    console.log('비밀번호가 일치하지 않습니다.');
                }
            });

           
});
        
    </script>

    
  </body>
</html>
